{"code":"!function(e){var t={};function o(l){if(t[l])return t[l].exports;var n=t[l]={i:l,l:!1,exports:{}};return e[l].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,l){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},o.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)o.d(l,n,function(t){return e[t]}.bind(null,n));return l},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,\"a\",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p=\"\",o(o.s=0)}([function(e,t,o){\"use strict\";function l(e,t,o){this.id=e,this.isActive=t,this.text=o}o.r(t);var n={allTodoItems:[],selectAll:!1};function d(){localStorage.clear();for(var e=0;e<n.allTodoItems.length;e++)localStorage[e]=JSON.stringify(n.allTodoItems[e])}function c(e,t){var o;o=n.allTodoItems.map((function(e){return e.id})).indexOf(e),n.allTodoItems[o].text=t,d()}function r(){for(var e=[],t=0;t<n.allTodoItems.length;t++)!1===n.allTodoItems[t].isActive&&e.push(n.allTodoItems[t]);return e}function i(e){var t;t=n.allTodoItems.map((function(e){return e.id})).indexOf(e),n.allTodoItems.splice(t,1),d()}function s(){!0===n.selectAll&&(n.selectAll=!1)}var u,a,m,v,f={todoInput:\".js-new-todo\",todoList:\".js-todo-list\",selectAll:\".js-select-all\",counter:\".js-counter\",footer:\".js-footer\",clearCompleted:\".js-button_clear-сompleted\",todoItem:\"todo-item\",todoItemClose:\"js-todo-item__close\",todoItemLabel:\"js-todo-item__label\",todoItemCheck:\"js-todo-item__check\",todoItemDone:\"todo-item_done\",todoItemInput:\"todo-item__input\",todoItemLabelDone:\"todo-item__label_done\",buttonAll:\".js-button_all\",buttonActive:\".js-button_active\",buttonCompleted:\".js-button_completed\",buttonClearCompleted:\".js-button_clear-сompleted\",footerVisible:\"footer_visible\",buttonSelected:\"button_selected\",selectAllVisible:\"select-all_visible\",selectAllChecked:\"select-all_checked\",todoItemLabelEdited:\"todo-item__label_edited\",todoItemCheckEdited:\"todo-item__check_edited\",todoItemCloseEdited:\"todo-item__close_edited\",todoItemEdited:\"todo-item_edited\"};function I(){return f}function L(e){!0===e?document.querySelector(f.selectAll).classList.add(f.selectAllChecked):document.querySelector(f.selectAll).classList.remove(f.selectAllChecked)}function b(e,t){var o;(o=e.querySelector(\".\"+f.todoItemLabel)).classList.remove(f.todoItemLabelEdited),e.classList.remove(f.todoItemEdited),e.querySelector(\".\"+f.todoItemCheck).classList.remove(f.todoItemCheckEdited),e.querySelector(\".\"+f.todoItemClose).classList.remove(f.todoItemCloseEdited),t.remove(),o.innerHTML=t.value}function y(){var e;event.target.closest(\".todo-item\")&&(e=event.target.closest(\".todo-item\").id,document.getElementById(e).querySelector(\".\"+f.todoItemClose).classList.add(\"todo-item__close_visible\"))}function S(){!function(){for(var e=document.querySelectorAll(\".todo-item\"),t=0;t<e.length;t++)e[t].querySelector(\".\"+f.todoItemClose).classList.remove(\"todo-item__close_visible\")}()}function p(){var e,t,o,l,n,d;e=event.target.parentNode.id,event.target.classList.contains(a.todoItemLabel)&&(t=e.split(\"-\"),o=parseInt(t[1]),n=(l=function(e){var t,o,l;return(o=(t=document.getElementById(e)).querySelector(\".\"+f.todoItemLabel)).classList.add(f.todoItemLabelEdited),t.querySelector(\".\"+f.todoItemCheck).classList.add(f.todoItemCheckEdited),t.querySelector(\".\"+f.todoItemClose).classList.add(f.todoItemCloseEdited),t.classList.add(f.todoItemEdited),(l=document.createElement(\"input\")).type=\"text\",l.classList.add(f.todoItemInput),t.appendChild(l),l.value=o.innerHTML,l.focus(),[t,l]}(e))[0],d=l[1],m=A.bind(null,n,d,o),v=_.bind(null,n,d,o),window.addEventListener(\"click\",m),window.addEventListener(\"keydown\",v))}function A(e,t,o){var l;event.target.classList.contains(a.todoItemInput)||(l=t.value,b(e,t),c(o,l),window.removeEventListener(\"click\",m),window.removeEventListener(\"keydown\",v))}function _(e,t,o){var l=t.value;13===event.keyCode&&document.activeElement===t?(b(e,t),c(o,l),window.removeEventListener(\"click\",m),window.removeEventListener(\"keydown\",v)):27===event.keyCode&&document.activeElement===t&&(!function(e,t){e.querySelector(\".\"+f.todoItemLabel).classList.remove(f.todoItemLabelEdited),e.classList.remove(f.todoItemEdited),e.querySelector(\".\"+f.todoItemCheck).classList.remove(f.todoItemCheckEdited),e.querySelector(\".\"+f.todoItemClose).classList.remove(f.todoItemCloseEdited),t.remove()}(e,t),window.removeEventListener(\"click\",m),window.removeEventListener(\"keydown\",v))}function h(){!function(e){document.querySelector(f.counter).innerHTML=String(e)+\" items left\"}(function(){return this.selectActiveTodos().length}())}function C(){var e;e=r();for(var t=0;t<e.length;t++)i(e[t].id);g()}function g(){var e;\"All\"===u?e=n.allTodoItems:\"Active\"===u?e=function(){for(var e=[],t=0;t<n.allTodoItems.length;t++)!0===n.allTodoItems[t].isActive&&e.push(n.allTodoItems[t]);return e}():\"Completed\"===u&&(e=r()),L(function(){for(var e=0;e<n.allTodoItems.length;e++)if(!0===n.allTodoItems[e].isActive)return n.selectAll=!1,n.selectAll;return n.selectAll=!0,n.selectAll}()),function(e,t){for(var o=document.querySelector(f.todoList);o.firstChild;)o.removeChild(o.firstChild);for(var l=0;l<e.length;l++)this.addListItem(e[l])}(e),function(e){\"All\"===e?(document.querySelector(f.buttonAll).classList.add(f.buttonSelected),document.querySelector(f.buttonActive).classList.remove(f.buttonSelected),document.querySelector(f.buttonCompleted).classList.remove(f.buttonSelected)):\"Active\"===e?(document.querySelector(f.buttonAll).classList.remove(f.buttonSelected),document.querySelector(f.buttonActive).classList.add(f.buttonSelected),document.querySelector(f.buttonCompleted).classList.remove(f.buttonSelected)):\"Completed\"===e&&(document.querySelector(f.buttonAll).classList.remove(f.buttonSelected),document.querySelector(f.buttonActive).classList.remove(f.buttonSelected),document.querySelector(f.buttonCompleted).classList.add(f.buttonSelected))}(u),h()}function q(){u=\"Completed\",g()}function E(){u=\"All\",g()}function T(){u=\"Active\",g()}function k(){!function(e){!0===e?(document.querySelector(f.selectAll).classList.remove(f.selectAllVisible),document.querySelector(f.footer).classList.remove(f.footerVisible)):(document.querySelector(f.selectAll).classList.add(f.selectAllVisible),document.querySelector(f.footer).classList.add(f.footerVisible))}(0===n.allTodoItems.length)}function w(){L(function(){if(!1===n.selectAll){for(var e=0;e<n.allTodoItems.length;e++)n.allTodoItems[e].isActive=!1;n.selectAll=!0}else{for(e=0;e<n.allTodoItems.length;e++)n.allTodoItems[e].isActive=!0;n.selectAll=!1}return d(),n.selectAll}()),g()}function j(e){var t,o;t=e.target.parentNode.id,e.target.classList.contains(a.todoItemClose)&&(o=t.split(\"-\"),i(parseInt(o[1])),function(e){var t=document.getElementById(e);t.parentNode.removeChild(t)}(t),k(),g())}function x(e){var t,o;t=e.target.parentNode.id,e.target.classList.contains(a.todoItemCheck)&&(o=t.split(\"-\"),function(e){var t;t=n.allTodoItems.map((function(e){return e.id})).indexOf(e),!0===n.allTodoItems[t].isActive?n.allTodoItems[t].isActive=!1:n.allTodoItems[t].isActive=!0,d()}(parseInt(o[1])),s(),function(e){var t,o;o=(t=document.getElementById(e)).querySelector(\".todo-item__label\"),t.classList.toggle(f.todoItemDone),o.classList.toggle(f.todoItemLabelDone)}(t),g())}u=\"All\",function(){for(var e,t,o=0;o<localStorage.length;o++)t=new l((e=JSON.parse(localStorage[o])).id,e.isActive,e.text),n.allTodoItems.push(t)}(),g(),k(),a=I(),document.addEventListener(\"keydown\",(function(e){var t,o,c;13===e.keyCode&&\"\"!==(c={text:document.querySelector(f.todoInput).value}).text&&(t=c.text,o=new l(n.allTodoItems.length>0?n.allTodoItems[n.allTodoItems.length-1].id+1:0,!0,t),n.allTodoItems.push(o),d(),document.querySelector(f.todoInput).value=\"\",s(),k(),g())})),document.querySelector(a.todoList).addEventListener(\"mouseover\",y),document.querySelector(a.todoList).addEventListener(\"mouseout\",S),document.querySelector(a.todoList).addEventListener(\"click\",j),document.querySelector(a.todoList).addEventListener(\"click\",x),document.querySelector(a.todoList).addEventListener(\"dblclick\",p),document.querySelector(a.selectAll).addEventListener(\"click\",w),document.querySelector(a.buttonAll).addEventListener(\"click\",E),document.querySelector(a.buttonActive).addEventListener(\"click\",T),document.querySelector(a.buttonCompleted).addEventListener(\"click\",q),document.querySelector(a.buttonClearCompleted).addEventListener(\"click\",C),E(),a=I()}]);","extractedComments":[]}