{"code":"!function(e){var t={};function o(l){if(t[l])return t[l].exports;var d=t[l]={i:l,l:!1,exports:{}};return e[l].call(d.exports,d,d.exports,o),d.l=!0,d.exports}o.m=e,o.c=t,o.d=function(e,t,l){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},o.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var d in e)o.d(l,d,function(t){return e[t]}.bind(null,d));return l},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,\"a\",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p=\"\",o(o.s=0)}([function(e,t,o){\"use strict\";function l(e,t,o){this.id=e,this.isActive=t,this.text=o}o.r(t);var d={allTodoItems:[],selectAll:!1};function n(){localStorage.clear(),d.allTodoItems.forEach((function(e,t){localStorage[t]=JSON.stringify(e)}))}function c(e,t){var o;o=d.allTodoItems.map((function(e){return e.id})).indexOf(e),d.allTodoItems[o].text=t,n()}function i(){var e=[];return d.allTodoItems.forEach((function(t){!1===t.isActive&&e.push(t)})),e}function s(){var e=[];return d.allTodoItems.forEach((function(t){!0===t.isActive&&e.push(t)})),e}function r(e){var t;t=d.allTodoItems.map((function(e){return e.id})).indexOf(e),d.allTodoItems.splice(t,1),n()}function u(){!0===d.selectAll&&(d.selectAll=!1)}var a,m,v,f,b={todoInput:\"js-new-todo\",todoList:\"js-todo-list\",selectAll:\"js-select-all\",counter:\"js-counter\",footer:\"js-footer\",clearCompleted:\"js-button_clear-сompleted\",todoItem:\"todo-item\",todoItemClose:\"js-todo-item__close\",todoItemLabel:\"js-todo-item__label\",todoItemCheck:\"js-todo-item__check\",todoItemDone:\"todo-item_done\",todoItemInput:\"todo-item__input\",todoItemLabelDone:\"todo-item__label_done\",buttonAll:\"js-button_all\",buttonActive:\"js-button_active\",buttonCompleted:\"js-button_completed\",buttonClearCompleted:\"js-button_clear-сompleted\",footerVisible:\"footer_visible\",buttonSelected:\"button_selected\",selectAllVisible:\"select-all_visible\",selectAllChecked:\"select-all_checked\",todoItemLabelEdited:\"todo-item__label_edited\",todoItemCheckEdited:\"todo-item__check_edited\",todoItemCloseEdited:\"todo-item__close_edited\",todoItemEdited:\"todo-item_edited\",todoItemCloseVisible:\"todo-item__close-visible\"};function I(){return b}function L(e){!0===e?document.querySelector(\".\"+b.selectAll).classList.add(\"\"+b.selectAllChecked):document.querySelector(\".\"+b.selectAll).classList.remove(\"\"+b.selectAllChecked)}function y(e,t){var o;(o=e.querySelector(\".\"+b.todoItemLabel)).classList.remove(\"\"+b.todoItemLabelEdited),e.classList.remove(\"\"+b.todoItemEdited),e.querySelector(\".\"+b.todoItemCheck).classList.remove(\"\"+b.todoItemCheckEdited),e.querySelector(\".\"+b.todoItemClose).classList.remove(\"\"+b.todoItemCloseEdited),t.remove(),o.innerHTML=t.value}function _(){var e;event.target.closest(\".\"+m.todoItem)&&(e=event.target.closest(\".\"+m.todoItem).id,document.getElementById(e).querySelector(\".\"+b.todoItemClose).classList.add(\"\"+b.todoItemCloseVisible))}function S(){document.querySelectorAll(\".todo-item\").forEach((function(e){e.querySelector(\".\"+b.todoItemClose).classList.remove(\"\"+b.todoItemCloseVisible)}))}function p(){var e,t,o,l,d,n;e=event.target.parentNode.id,event.target.classList.contains(\"\"+m.todoItemLabel)&&(t=e.split(\"-\"),o=parseInt(t[1]),d=(l=function(e){var t,o,l;return(o=(t=document.getElementById(e)).querySelector(\".\"+b.todoItemLabel)).classList.add(\"\"+b.todoItemLabelEdited),t.querySelector(\".\"+b.todoItemCheck).classList.add(\"\"+b.todoItemCheckEdited),t.querySelector(\".\"+b.todoItemClose).classList.add(\"\"+b.todoItemCloseEdited),t.classList.add(\"\"+b.todoItemEdited),(l=document.createElement(\"input\")).type=\"text\",l.classList.add(\"\"+b.todoItemInput),t.appendChild(l),l.value=o.innerHTML,l.focus(),[t,l]}(e))[0],n=l[1],v=A.bind(null,d,n,o),f=E.bind(null,d,n,o),window.addEventListener(\"click\",v),window.addEventListener(\"keydown\",f))}function A(e,t,o){var l;event.target.classList.contains(\"\"+m.todoItemInput)||(l=t.value,y(e,t),c(o,l),window.removeEventListener(\"click\",v),window.removeEventListener(\"keydown\",f))}function E(e,t,o){var l;l=t.value,13===event.keyCode&&document.activeElement===t?(y(e,t),c(o,l),window.removeEventListener(\"click\",v),window.removeEventListener(\"keydown\",f)):27===event.keyCode&&document.activeElement===t&&(!function(e,t){e.querySelector(\".\"+b.todoItemLabel).classList.remove(\"\"+b.todoItemLabelEdited),e.classList.remove(\"\"+b.todoItemEdited),e.querySelector(\".\"+b.todoItemCheck).classList.remove(\"\"+b.todoItemCheckEdited),e.querySelector(\".\"+b.todoItemClose).classList.remove(\"\"+b.todoItemCloseEdited),t.remove()}(e,t),window.removeEventListener(\"click\",v),window.removeEventListener(\"keydown\",f))}function C(){!function(e){document.querySelector(\".\"+b.counter).innerHTML=e+\" items left\"}(s().length)}function h(){var e;e=i();for(var t=0;t<e.length;t++)r(e[t].id);q(),j()}function q(){var e;\"All\"===a?e=d.allTodoItems:\"Active\"===a?e=s():\"Completed\"===a&&(e=i()),L(function(){for(var e=0;e<d.allTodoItems.length;e++)if(!0===d.allTodoItems[e].isActive)return d.selectAll=!1,d.selectAll;return d.selectAll=!0,d.selectAll}()),function(e){for(var t,o,l=document.querySelector(\".\"+b.todoList);l.firstChild;)l.removeChild(l.firstChild);for(var d=0;d<e.length;d++)t=e[d],o=void 0,o=!0===t.isActive?`<li class=\"todo-item\" id=\"todo-${t.id}\">    <div class=\"todo-item__check js-todo-item__check\"></div>    <label class=\"todo-item__label js-todo-item__label\">${t.text}</label>    <div class=\"todo-item__close js-todo-item__close\"></div></li>`:`<li class=\"todo-item todo-item_done\" id=\"todo-${t.id}\">    <div class=\"todo-item__check js-todo-item__check\"></div>    <label class=\"todo-item__label js-todo-item__label todo-item__label_done\">${t.text}</label>    <div class=\"todo-item__close js-todo-item__close\"></div></li>`,document.querySelector(\".\"+b.todoList).insertAdjacentHTML(\"beforeend\",o)}(e),function(e){\"All\"===e?(document.querySelector(\".\"+b.buttonAll).classList.add(\"\"+b.buttonSelected),document.querySelector(\".\"+b.buttonActive).classList.remove(\"\"+b.buttonSelected),document.querySelector(\".\"+b.buttonCompleted).classList.remove(\"\"+b.buttonSelected)):\"Active\"===e?(document.querySelector(\".\"+b.buttonAll).classList.remove(\"\"+b.buttonSelected),document.querySelector(\".\"+b.buttonActive).classList.add(\"\"+b.buttonSelected),document.querySelector(\".\"+b.buttonCompleted).classList.remove(\"\"+b.buttonSelected)):\"Completed\"===e&&(document.querySelector(\".\"+b.buttonAll).classList.remove(\"\"+b.buttonSelected),document.querySelector(\".\"+b.buttonActive).classList.remove(\"\"+b.buttonSelected),document.querySelector(\".\"+b.buttonCompleted).classList.add(\"\"+b.buttonSelected))}(a),C()}function k(){a=\"Completed\",q()}function g(){a=\"All\",q()}function T(){a=\"Active\",q()}function j(){!function(e){!0===e?(document.querySelector(\".\"+b.selectAll).classList.remove(\"\"+b.selectAllVisible),document.querySelector(\".\"+b.footer).classList.remove(\"\"+b.footerVisible)):(document.querySelector(\".\"+b.selectAll).classList.add(\"\"+b.selectAllVisible),document.querySelector(\".\"+b.footer).classList.add(\"\"+b.footerVisible))}(0===d.allTodoItems.length)}function w(){!1===d.selectAll?(d.allTodoItems.forEach((function(e,t){d.allTodoItems[t].isActive=!1})),d.selectAll=!0):(d.allTodoItems.forEach((function(e,t){d.allTodoItems[t].isActive=!0})),d.selectAll=!1),n(),L(d.selectAll),q()}function x(e){var t,o;t=e.target.parentNode.id,e.target.classList.contains(\"\"+m.todoItemClose)&&(o=t.split(\"-\"),r(parseInt(o[1])),function(e){var t=document.getElementById(e);t.parentNode.removeChild(t)}(t),j(),q())}function O(e){var t,o;t=e.target.parentNode.id,e.target.classList.contains(\"\"+m.todoItemCheck)&&(o=t.split(\"-\"),function(e){var t,o;t=d.allTodoItems.map((function(e){return e.id})).indexOf(e),o=!0!==(o=d.allTodoItems[t].isActive),d.allTodoItems[t].isActive=o,n()}(parseInt(o[1])),u(),function(e){var t,o;o=(t=document.getElementById(e)).querySelector(\".\"+b.todoItemLabel),t.classList.toggle(\"\"+b.todoItemDone),o.classList.toggle(\"\"+b.todoItemLabelDone)}(t),q())}a=\"All\",function(){for(var e,t,o=0;o<localStorage.length;o++)t=new l((e=JSON.parse(localStorage[o])).id,e.isActive,e.text),d.allTodoItems.push(t)}(),q(),j(),m=I(),document.addEventListener(\"keydown\",(function(e){var t,o,c;13===e.keyCode&&\"\"!==(c={text:document.querySelector(\".\"+b.todoInput).value}).text&&(t=c.text,o=new l(d.allTodoItems.length>0?d.allTodoItems[d.allTodoItems.length-1].id+1:0,!0,t),d.allTodoItems.push(o),n(),document.querySelector(\".\"+b.todoInput).value=\"\",u(),j(),q())})),document.querySelector(\".\"+m.todoList).addEventListener(\"mouseover\",_),document.querySelector(\".\"+m.todoList).addEventListener(\"mouseout\",S),document.querySelector(\".\"+m.todoList).addEventListener(\"click\",x),document.querySelector(\".\"+m.todoList).addEventListener(\"click\",O),document.querySelector(\".\"+m.todoList).addEventListener(\"dblclick\",p),document.querySelector(\".\"+m.selectAll).addEventListener(\"click\",w),document.querySelector(\".\"+m.buttonAll).addEventListener(\"click\",g),document.querySelector(\".\"+m.buttonActive).addEventListener(\"click\",T),document.querySelector(\".\"+m.buttonCompleted).addEventListener(\"click\",k),document.querySelector(\".\"+m.buttonClearCompleted).addEventListener(\"click\",h),g(),m=I()}]);","extractedComments":[]}